ANTLR 是Another Tool for Language Recognition的简写，
是一个用Java语言编写的识别器工具。
它能够自动生成解析器，并将用户编写的ANTLR语法规则直接生成目标语言的解析器，
它能够生成Java、Go、C等语言的解析器客户端。

ANTLR所生成的解析器客户端将输入的文本生成抽象语法树，并提供遍历树的接口，以访问文本的各个部分。
ANTLR的实现与前文所讲述的词法分析与语法分析是一致的。
词法分析器根据语法规则做词法单元的拆分；语法分析器对词法单元做语义分析，
并对规则进行优化以及消除左递归等操作。


其中 Antlr 和Javacc都是现代的语法解析器，两者都很优秀，其中Antlr要更胜一筹。
而SqlParser只能解析sql语句，功能比较单一
- Antlr
- Javacc
- SqlParser (位于Alibaba的Druid库中)

Antlr (ANother Tool for Language Recognition) 是一个强大的跨语言语法解析器，可以用来读取、处理、执行或翻译结构化文本或二进制文件。
它被广泛用来构建语言，工具和框架。Antlr可以从语法上来生成一个可以构建和遍历解析树的解析器。

相对来说，ANTLR 则好一些。它并非为SQL解析专门定制的解析器，而是通用的编程语言解析器。
它只需编写名为G4的语法文件，即可自动生成解析的代码，并且以统一的格式输出，处理起来非常简单。
由于G4文件是通过开发者自行定制的，因此由ANTLR所生成的代码也更加简洁和个性化。
在编写仅适用于数据分片的语法规则时，可以简化大量无需关注的SQL语法。
对于SQL审计等SQL解析的需求，完全可以用ANTRL编写另外一份语法规则，可以达到因地制宜的效果。
JavaCC与ANTLR类似，都属于自定义语法类型的解析器。

- 优化
    - 基于规则的优化器（Rule Based Optimizer，简称RBO）：根据优化规则将一个关系表达式转换成另外一个关系表达式，同时原有表达式被放弃，经过一系列转换生成最终执行计划。事实上，RBO是一种比较落后的优化器，它只认规则，对数据不敏感；容易陷入局部优但是全局差的场景；同时受规则顺序影响而产生不同执行计划
    - 基于代价的优化器（Cost Based Optimizer，简称CBO）：根据优化规则对关系表达式进行转换，同时原有表达式也会保留，经过一系列转换后会生成多个执行计划，之后计算每个执行计划的Cost，从中挑选Cost最小的执行计划作为最终执行计划。CBO的优点是灵活智能，它能根据数据的特点生成相应的执行计划。因此，目前各大数据库和计算引擎都倾向于使用CBO，例如从Oracle 10g开始，Oracle已经彻底放弃RBO，转而使用CBO，而Hive在0.14版本中也引入了CBO。MaxCompute 也经历了从RBO到CBO的过程，这也是MaxCompute 1.0到2.0过程中一个重大的改变。
